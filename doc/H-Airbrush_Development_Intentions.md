# H.Airbrush Development — Updated Intentions

## Background
The H.Airbrush device has been delivered. While it was originally envisioned as part of a fully interactive, real-time system, the initial usage scope has been narrowed. The immediate requirement is to operate the device as a conventional G-code driven plotter/printer.

## Current Direction
Instead of streaming real-time instructions, the workflow will now rely on **SVG files** as input. These SVG files will be generated by the interactive component, but the device itself will not interpret them directly. Instead, the system will require a dedicated software pipeline that parses SVG input and converts it into G-code optimized for this hardware.

## SVG Parsing
- We will no longer rely on Inkscape or its libraries.
- A **custom SVG parser** must be implemented.
- The parser only needs to support **lines** (no curves or complex shapes).
- Each line will include:
  - **Width** → interpreted into paint stroke characteristics.
  - **Opacity** → treated as standard, not dynamically adjusted.
  - **Color** → only black or white; color switching logic will be preserved.

## G-code Transformation
The new software will:
1. Read the simplified SVG.
2. Translate lines into motion sequences with width interpretation.
3. Apply hardware-specific transformations, offsets, and tool logic.
4. Output G-code compatible with the H.Airbrush hardware.

## Relation to Prior Work
This is conceptually similar to the existing **Inkscape extension**, but implemented independently. The prior extension’s special logic (e.g., head offsets, tool enable/disable, stroke handling) will be re-used as reference but not as code dependencies.

## Summary
The immediate development focus is:
- Build an SVG → G-code pipeline without Inkscape.
- Restrict to line-based geometry with width and black/white color interpretation.
- Preserve existing hardware logic from the Inkscape extension.

This staged approach allows conventional plotter-style operation first, while keeping the door open for future interactive expansion.
